<html>
<head>
    <title>Tab Test</title>
      
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<!-- bootstrap -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
</head>
<body>
<style>
    /*!
    *  Font Awesome 4.6.2 by @davegandy - http://fontawesome.io - @fontawesome
    *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
    */
    /*
   @font-face {
       font-family: 'FontAwesome';
       src: url(fonts/fontawesome/fontawesome-webfont.eot?v=4.6.2&1466075185);
       src: url(fonts/fontawesome/fontawesome-webfont.eot?v=4.6.2&1466075185#iefix) format("embedded-opentype"),url(fonts/fontawesome/fontawesome-webfont.woff2?v=4.6.2&1466075185) format("woff2"),url(fonts/fontawesome/fontawesome-webfont.woff?v=4.6.2&1466075185) format("woff"),url(fonts/fontawesome/fontawesome-webfont.ttf?v=4.6.2&1466075185) format("truetype"),url(fonts/fontawesome/fontawesome-webfont.svg?v=4.6.2&1466075185#fontawesomeregular) format("svg");
       font-weight: normal;
       font-style: normal
   }
   */
   /* fontawesome; we used fa-bars and fa-map-o in EASY */
</style>
<!-- using svg from bootstrap as icons 
 https://icons.getbootstrap.com/icons/list-task/
 https://icons.getbootstrap.com/icons/map/
 -->
<!-- Nav tabs -->
<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="list-tab" type="button" role="tab" aria-controls="list" aria-selected="true">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-task" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5zM3 3H2v1h1z"/>
            <path d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1z"/>
            <path fill-rule="evenodd" d="M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5zM2 7h1v1H2zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm1 .5H2v1h1z"/>
          </svg>
        List</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="map-tab" type="button" role="tab" aria-controls="map" aria-selected="false">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-map" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.5.5 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103M10 1.91l-4-.8v12.98l4 .8zm1 12.98 4-.8V1.11l-4 .8zm-6-.8V1.11l-4 .8v12.98z"/>
          </svg>
        Map</button>
    </li>
  </ul>


<script>
$(document).ready(function(){
    // get stored value from local storage or session storage
    // session storage is gone when browser tab or window is closed
    // we only want the selection to survive page reloads because of changes in searching
    var activeTab = sessionStorage.getItem('activeTab'); //localStorage.getItem('activeTab');
    // Maybe? Escape the value for security against injection XSS, better save than sorry
    //activeTab = escape(activeTab)

    // if activeTab is not null, then show the tab
    if (activeTab) { // we might restrict to values 'list' or 'map' only
        console.log('activeTab: ' + activeTab)
        $('#myTab button[aria-controls="'+activeTab+'"]').tab('show')
    }
    // Note that 'list' is default


    $('#myTab button').on('click', function (event) {
        event.preventDefault()
        $(this).tab('show')

        // do other tab specific stuff here
        console.log('clicked: ' + $(this).attr('id'))
        // store the active tab in local storage
        //localStorage.setItem('activeTab', $(this).attr('aria-controls'));
        sessionStorage.setItem('activeTab', $(this).attr('aria-controls'));
    })

});

</script>
</html>